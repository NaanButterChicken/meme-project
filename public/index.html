<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>help i broke something</title>
		<link rel="stylesheet" href="style.css">

	</head>
	<body>


		<script type="text/javascript"> 
			
			/*function giveMeSomething(){
				var xhr = new XMLHttpRequest();			
				
				xhr.open("GET","http://localhost:3000/whatsBetter", true);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

				xhr.onreadystatechange = function() {
        			if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
						document.getElementById("pineapple").innerHTML = this.responseText;
						//document.getElementById("memes-div")
       				}
				};
				
				xhr.send();
   			}*/
			   
			function insertMeme() {
				var filepath = document.getElementById("input").value;

				var xhr = new XMLHttpRequest();
				xhr.open("GET","http://localhost:3000/insertMeme?filepath=" + filepath);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
				xhr.send();
			}

			
			function getTopMeme() {
				//actualy, i thinkthat this whole function has to be changed a wee bit (or a lot)
				var filepath = document.getElementById("input").value; //i dont think the Id we want to grab is input but i dont know what should go here

				var xhr = new XMLHttpRequest();
				xhr.open("GET","http://localhost:3000/getTopMeme");
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

				xhr.onreadystatechange = function() {
        			if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
						document.getElementById("pineapple").innerHTML = this.responseText;
						//document.getElementById("memes-div")
       				}
				};

				xhr.send();
			}
			

		</script>

		<h1>memeStore</h1>

		<!--<button type="button" onclick="giveMeSomething()">click for the truth</button> -->

		<div id="pineapple">
			<p>the meme will summon here</p>
		</div>

		<div id="memes-div">

			<button type="button" onclick="getTopMeme()" class="boop">random meme!</button>
			<br />
			<br />
			<input id="input" type="text" accept-charset="utf-8" />
			<button type="button" onclick="insertMeme()" class="boop">insert the meme url</button>
			
		</div>


	</body>
</html>
